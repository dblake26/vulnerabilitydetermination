# Homeless Vulnerability Determination Using Machine Learning

## Project Overview
**Author:** Desiree Blake

This project aims to develop a machine learning model to predict the likelihood of vulnerability among individuals experiencing homelessness. Vulnerability was defined based on a customized set of factors relevant to the dataset's specific population, including attributes like chronic homelessness, disabling conditions, and age.The model leverages various factors to identify high-risk individuals, enabling service providers to tailor interventions that reduce the risk of victimization, death, incarceration, and prolonged homelessness. This includes a predictive model that ranks clients based on their likelihood of being highly vulnerable, which helps in identifying those who are in most need of assistance. The full report can be found at the links below. 


**Overleaf/LaTeX Report:** [Homelessness Vulnerability Determination Using Machine Learning](https://www.overleaf.com/read/yjgykzdtgsrx#8fb21e)

**GitHub Repository:** [Homelessness Vulnerability Determination](https://github.com/dblake26/vulnerabilitydetermination)

This project is part of Desiree Blake's Capstone Project for the MS in Data Analytics at Northwest Missouri State University.

## Project Phases

1. **Data Overview**
   - Description of the dataset, data collection methodology, and data quality assessment.

2. **Data Cleaning, Preprocessing, and Transformation**
   - **Load Data:** Import the CSV file into a DataFrame.
   - **Handle Missing Values:** Replace empty records, 'client doesn’t know', and 'data not collected' with 'unknown'.
   - **Impute Missing Values:** Fill missing values in numerical columns with the mean.
   - **Encode Categorical Variables:** Apply one-hot encoding to convert categorical variables into binary columns.

3. **Exploratory Data Analysis (EDA)**
   - Conduct EDA to uncover patterns, understand correlations between factors, and visualize variable distributions. 
   - Develop the target variable based on selected indicators of vulnerability. Engineer features relevant to vulnerability prediction such as 'Target Variable' and 'Vulnerability Factors Count'. 
   - EDA supported for this datasets population that vulnerability factors are to be defined as below. The count of these features develop the 'Vulnerability Factors Count'.

        - Family size of 1,
        - Age (under 25, 45+),
        - Race (black or mixed race/black),
        - Non-Cisgendered,
        - No health insurance,
        - Yes disabling conditions,
        - Yes HIV status,
        - Yes chronic status,
        - Yes experiencing Domestic Violence (DV).

   - The Updated Target variable column will appear as: 

        1: Highly Vulnerable (Individuals with 6 or more vulnerability factors).

        2: Moderately Vulnerable (Individuals with 4 or 5 vulnerability factors).

        0: Low Vulnerability (Individuals with 3 or fewer vulnerability factors).     

4. **Machine Learning Model Selection and Training**
   - **Data Preparation and Preprocessing:**
     - Load and preprocess data from `CE_APR_combined.csv`.
   - **Model Training and Evaluation:**
     - Train a Random Forest Classifier on the preprocessed dataset.
     - Evaluate model performance using accuracy, classification report, and feature importance.
   - **Predictive Analysis:**
     - Generate probability predictions for each vulnerability class.
     - Compute a vulnerability score based on the probability of being in the highly vulnerable class.
   - **Client Ranking:**
     - Rank clients based on their vulnerability scores.
     - Filter out clients without an exit destination.
   - **Results and Outputs:**
     - Output a ranked list of clients with their predicted probabilities and vulnerability scores.
     - Save a CSV file of clients without exit destinations for focused prioritization.

5. **Presentation of Results and Recommendations**
   5. **Presentation of Results and Recommendations**
   ### Key Results
   1. **Model Performance:** The Random Forest classifier demonstrated high accuracy, correctly predicting vulnerability categories for the majority of the test dataset. The classification report showed high precision, recall, and F1-scores across all classes, indicating a reliable model.

        **Classification Report:**

        | Class | Precision | Recall | F1-Score | Support |
        |-------|-----------|--------|----------|---------|
        | 0     | 1.00      | 1.00   | 1.00     | 302     |
        | 1     | 1.00      | 1.00   | 1.00     | 96      |
        | 2     | 1.00      | 1.00   | 1.00     | 453     |
        | **Accuracy** |       | 1.00   |          | 851     |
        | **Macro Avg** | 1.00  | 1.00   | 1.00     | 851     |
        | **Weighted Avg** | 1.00 | 1.00   | 1.00     | 851     |
   
   2. **Feature Importance:**
      - The most significant predictor was the `Updated Vulnerability Factors Count`, which accounted for 74.16% of the model's predictive power.
      - Other important features included `Chronically Homeless` (5.73%), `Disabling Condition` (3.94%), and `Age` (3.62%).
      - Some features, such as `Race` and `Gender`, showed negligible importance, suggesting they may not be as predictive in this context.

        | Feature                                   | Importance (%) |
        |-------------------------------------------|----------------|
        | Updated Vulnerability Factors Count       | 74.1586        |
        | Chronically Homeless                      | 5.7298         |
        | Disabling Condition                       | 3.9382         |
        | Age                                       | 3.6189         |
        | Family Size                               | 2.9773         |
        | Health Insurance                          | 2.1310         |
        | Domestic Violence                         | 2.1221         |
        | Client ID                                 | 1.8260         |
        | Substance Use                             | 0.8678         |
        | HIV Status                                | 0.6988         |
        | Mental Illness                            | 0.5683         |
        | Chronic Illness                           | 0.4600         |
        | Physical Disability                       | 0.4592         |
        | Developmental Disability                  | 0.3017         |
        | Veteran Status                            | 0.1425         |
        | Race                                      | 0.0000         |
        | Gender                                    | 0.0000         |
   
   3. **Ranked Client List:** The model generated a ranked list of clients based on their predicted vulnerability scores, providing a practical tool for prioritizing assistance. This list helps target resources to those most at risk of adverse outcomes.

        ####  View Full Predicted Probabilities Ranking Output in ranked_clients.csv file.

        | Column Name             | Description                                                         |
        |--------------------------|---------------------------------------------------------------------|
        | `Prob_Class_0`           | Probability of the client being classified as Class 0 (Less Vulnerable). |
        | `Prob_Class_1`           | Probability of the client being classified as Class 1 (Highly Vulnerable). |
        | `Prob_Class_2`           | Probability of the client being classified as Class 2 (Moderately Vulnerable). |
        | `Client ID`              | Unique identifier for the client. Represents the client’s ID from the dataset. |
        | `True_Label`             | Actual label of the client, indicating their true class.            |
        | `Vulnerability_Score`    | Calculated score based on the probability of being in Class 1 (Highly Vulnerable). Clients with higher scores are ranked as more vulnerable. |


   ### Actionable Recommendations
   1. **Resource Allocation:** Use the ranked list to allocate resources and interventions effectively. Prioritize clients with high vulnerability scores for housing, healthcare, and street outreach services.
   
   2. **Feature Refinement:** Refine the `Updated Vulnerability Factors Count` and consider incorporating additional relevant features based on new insights or changing needs. This can be customized based on population. 
   
   3. **Continuous Model Evaluation:** Regularly update the model with new data to maintain accuracy and relevance. Monitor feature importance and model performance to adapt to shifts in predictive factors.
   
   4. **Expand Data Collection:** Collect more granular data on underrepresented features to enhance model performance and accuracy.
   
   5. **Policy and Program Development:** Use insights from the feature importance analysis to inform policy decisions and develop targeted interventions.

   ### Conclusion
   The developed model effectively identifies vulnerable individuals within the homeless population, providing a valuable tool for prioritizing support. By leveraging the model's predictions and continuously refining the approach, stakeholders can better allocate resources and develop targeted interventions to support those most at risk.

## Prerequisites
Ensure the following are installed:
- Python
- Jupyter Notebook

## Installation

1. Clone the repository:
   ```bash
   git clone https://github.com/dblake26/vulnerabilitydetermination
